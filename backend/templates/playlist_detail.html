<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ playlist.name }} - Trackify</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700;900&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        .bg-pattern {
            background-image: url('https://www.transparenttextures.com/patterns/cubes.png');
            background-color: #1a202c;
        }
    </style>
</head>
<body class="bg-pattern text-white min-h-screen">

    <div class="container mx-auto p-4 md:p-8">
        
        <!-- Back Button -->
        <div class="mb-8">
            <a href="{{ url_for('profile') }}" class="text-[#1DB954] hover:text-[#1ED760] font-bold transition duration-300">
                &larr; Back to Profile
            </a>
        </div>

        <!-- Playlist Header -->
        <header class="flex flex-col md:flex-row items-center gap-8 mb-8">
            {% if playlist.images %}
                <img src="{{ playlist.images[0].url }}" alt="Playlist Cover" class="w-48 h-48 md:w-64 md:h-64 rounded-lg shadow-2xl object-cover">
            {% endif %}
            <div class="text-center md:text-left">
                <h2 class="text-sm uppercase text-gray-400 font-bold">Playlist</h2>
                <h1 class="text-4xl md:text-6xl font-black text-white break-words">{{ playlist.name }}</h1>
                {% if playlist.description %}
                    <p class="text-gray-300 mt-4">{{ playlist.description | safe }}</p>
                {% endif %}
                <p class="text-gray-400 mt-4">
                    Created by <span class="font-bold text-white">{{ playlist.owner.display_name }}</span> &bull; {{ playlist.tracks.total }} songs
                </p>
            </div>
        </header>

        <!-- Track List -->
        <main class="bg-gray-800 bg-opacity-60 backdrop-blur-sm rounded-2xl shadow-2xl p-4 md:p-6">
            <div class="flow-root">
                <ul role="list" class="divide-y divide-gray-700">
                    {% for item in tracks %}
                        {% if item.track %}
                        <li class="py-3 sm:py-4">
                            <div class="flex items-center space-x-4">
                                <div class="flex-shrink-0 text-gray-400 font-semibold w-8 text-center">
                                    {{ loop.index }}
                                </div>
                                <div class="flex-shrink-0">
                                    {% if item.track.album.images %}
                                        <img class="w-12 h-12 rounded-md" src="{{ item.track.album.images[0].url }}" alt="Album Art">
                                    {% endif %}
                                </div>
                                <div class="flex-1 min-w-0">
                                    <p class="text-md font-medium text-white truncate">
                                        {{ item.track.name }}
                                    </p>
                                    <p class="text-sm text-gray-400 truncate">
                                        {{ item.track.artists[0].name }} &bull; {{ item.track.album.name }}
                                    </p>
                                </div>
                                <div class="hidden md:inline-flex items-center text-base font-semibold text-gray-300">
                                    <!-- Duration can be added here if needed -->
                                </div>
                            </div>
                        </li>
                        {% endif %}
                    {% else %}
                        <p class="text-gray-400 text-center py-4">This playlist is empty.</p>
                    {% endfor %}
                </ul>
            </div>
        </main>

    </div>
</body>
</html>
